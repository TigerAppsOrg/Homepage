---
import Layout from "../layouts/Layout.astro";
import Footer from "../components/page/Footer.astro";
import HeaderShell from "../components/HeaderShell.astro";
import Logo from "../assets/icons/logo.png";
import Image from "astro/components/Image.astro";
import GithubIcon from "../assets/icons/github-mark.svg";

import { archiveApps } from "../utils/apps";
---

<head>
    <title>TigerApps - Archive</title>
</head>

<Layout>
    <HeaderShell>
        <a href="/" class="flex items-center gap-2">
            <Image
                src={Logo}
                alt="TigerApps Logo"
                class="h-8 w-8 object-contain"
            />
            <span class="text-xl font-bold">
                <span class="text-pixar-orange">Tiger</span><span
                    class="text-charcoal">Apps</span
                >
            </span>
        </a>
        <nav class="flex items-center text-sm font-semibold gap-8">
            <a href="/" class="text-gray hover:text-charcoal transition-colors"
                >Home</a
            >
            <a href="/archive" class="text-charcoal">Archive</a>
            <a
                href="/resources"
                class="text-gray hover:text-charcoal transition-colors"
                >Resources</a
            >
        </nav>
    </HeaderShell>
    <div class="cont">
        <div class="text-center pt-28 pb-8">
            <h2 class="mb-3">
                <span class="rainbow-underline">Archive</span>
            </h2>
            <p class="text-gray text-lg">
                Apps that we are no longer maintaining.
            </p>
        </div>
        <main
            class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3 pb-16 constrained">
            {
                archiveApps.apps.map((app, index) => (
                    <article class="group bg-white rounded-xl border-2 border-light-mid hover:border-gray/30 shadow-pop hover:shadow-pop-hover transition-all duration-200 overflow-hidden">
                        <div class="flex gap-4 p-4">
                            <a
                                href={app.webLink}
                                target="_blank"
                                class="shrink-0 w-20 h-20 rounded-lg overflow-hidden bg-light">
                                <Image
                                    src={app.screenshot}
                                    alt={app.alt}
                                    class="w-full h-full object-cover opacity-75 group-hover:opacity-100 transition-opacity"
                                />
                            </a>
                            <div class="flex-1 min-w-0">
                                <a
                                    href={app.webLink}
                                    target="_blank"
                                    class="block">
                                    <h4 class="font-bold text-charcoal group-hover:text-gray-dark transition-colors truncate text-base">
                                        {app.title}
                                    </h4>
                                </a>
                                <p class="text-xs text-gray mt-1 line-clamp-2">
                                    {app.description}
                                </p>
                                {app.note && (
                                    <p class="text-xs text-pixar-orange mt-1 font-medium">
                                        {app.note}
                                    </p>
                                )}
                                <div class="flex items-center gap-2 mt-2">
                                    <a
                                        href={app.repoLink}
                                        target="_blank"
                                        rel="noopener noreferrer"
                                        class="inline-flex items-center gap-1.5 text-xs font-medium text-gray hover:text-charcoal transition-colors">
                                        <Image
                                            height={12}
                                            width={12}
                                            src={GithubIcon}
                                            alt="GitHub"
                                        />
                                        View Code
                                    </a>
                                </div>
                            </div>
                        </div>
                    </article>
                ))
            }
        </main>
    </div>
    <Footer />
</Layout>

<style>
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
</style>
